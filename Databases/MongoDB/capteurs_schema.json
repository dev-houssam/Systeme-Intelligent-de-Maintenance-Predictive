{
  "$jsonSchema": {
    "bsonType": "object",
    "required": ["id","typeCapteur","valeurActuelle","unite","seuilAlerte","seuilCritique","etat","timestampDerniereMesure","localisation"],
    "additionalProperties": false,
    "properties": {
      "id": {
        "bsonType": "string",
        "description": "UUIDv7 string",
        "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-7[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"
      },
      "typeCapteur": {
        "bsonType": "string",
        "description": "Type du capteur (ex: Temperature, Vibration, Pression...)"
      },
      "valeurActuelle": {
        "bsonType": ["double","int","decimal"],
        "description": "Valeur mesurée actuelle (nombre)"
      },
      "unite": {
        "bsonType": "string",
        "description": "Unité (ex: °C, kPa, m/s²...)"
      },
      "seuilAlerte": {
        "bsonType": ["double","int","decimal"],
        "description": "Seuil d'alerte (nombre)"
      },
      "seuilCritique": {
        "bsonType": ["double","int","decimal"],
        "description": "Seuil critique (nombre)"
      },
      "etat": {
        "bsonType": "string",
        "description": "État du capteur",
        "enum": ["Normal","Alerte","Critique","Inconnu"]
      },
      "timestampDerniereMesure": {
        "bsonType": "date",
        "description": "Horodatage de la dernière mesure"
      },
      "localisation": {
        "bsonType": "string",
        "description": "Localisation textuelle du capteur"
      }
    }
  }
}
